{%  extends "::base.html.twig" %}

{% block content %}
<div id="content" class="span10">


    <div class="row-fluid">

        <div class="box span12">
            {% if current == null %}
            <div class="box-header well" data-original-title>

                <h2><i class="icon-list-alt"></i> Pending Opportunities</h2>
                <div class="box-icon">

                    <a href="#" class="btn btn-minimize btn-round"><i class="icon-chevron-up"></i></a>

                </div>
            </div>
            <div class="box-content">
                <br>
                <ul class="dashboard-list">
                    {% for Opportunity in Opportunities %}
                        <li>
                            <div class ="pull-right">
                                {% if Opportunity.status == 1 %}
                                    <br><br>
                                    <button url="{{ path('ridwan_opportunity_accept', { 'opID': Opportunity.id }) }}" id="{{Opportunity.id}}" class="btn btn-small  btn-success btn-complete"><i class="icon-ok"></i> Accept</button>
                                    <button url="{{ path('ridwan_opportunity_deny', { 'opID': Opportunity.id }) }}" id="{{Opportunity.id}}" class="btn btn-small btn-danger btn-delete"><i class="icon-remove"></i> Deny</button>

                                {% endif %}
                            </div>

                            <h6>Title</h6>

                            <h3>{{ Opportunity.title }}</h3>
                            <br>

                            <h6>Volunteer Role</h6>

                            <p align="justify">{{ Opportunity.role }}</p>
                            <br>

                            <h6>Description</h6>

                            <p align="justify">{{ Opportunity.description }}</p>
                            <br>

                            <table width='100%'>
                                <tr>
                                    <td width='40%'>
                                        <h6>Location</h6>

                                        <p align="justify">{{ Opportunity.location }}</p>
                                        <br>

                                        <h6>Start Date</h6>

                                        <p align="justify">{{ Opportunity.startdate|date('Y-m-d') }}</p>
                                        <br>

                                        <h6>Expected End Date</h6>

                                        <p align="justify">{{ Opportunity.enddate| date('Y-m-d') }}</p>
                                        <br>

                                        <h6>Number of Volunteers</h6>

                                        <p align="justify">{{ Opportunity.numberofvolunteers }}</p>
                                        <br>
                                    </td>
                                    <td width='10%'></td>
                                    <td width='40%'>
                                        <h6>Age Group</h6>

                                        <p align="justify">{{ Opportunity.agegroup }}</p>
                                        <br>

                                        <h6>Difficulty</h6>

                                        <p align="justify">
                                            {% if Opportunity.difficulty == 8 %}
                                        <h3><span class="label label-important"> Extreme</span></h3>
                                        {% elseif Opportunity.difficulty == 6 %}
                                            <h3><span class="label label-warning"> Hard</span></h3>

                                        {% elseif Opportunity.difficulty == 4 %}
                                            <h3><span class="label label-inverse"> Normal</span></h3>

                                        {% elseif Opportunity.difficulty == 2 %}
                                            <h3><span class="label label-inverse"> Easy </span></h3>

                                        {% elseif Opportunity.difficulty == 0 %}
                                            <h3><span class="label label-info"> Very Easy</span></h3>
                                        {% endif %}


                                        </p>
                                        <br>

                                        <h6>Cause</h6>

                                        <p align="justify">{{ Opportunity.cause }}</p>
                                        <br>

                                        <h6>Status</h6>
                                        {% if Opportunity.status == -1 %}
                                            <h3><span class="label label-important"> Rejected</span></h3>
                                        {% elseif Opportunity.status == 0 %}
                                            <h3><span class="label label-warning"> Pending Approval</span></h3>

                                        {% elseif Opportunity.status == 1 %}
                                            <h3><span class="label label-inverse"> Assigning Volunteers</span></h3>

                                        {% elseif Opportunity.status == 2 %}
                                            <h3><span class="label label-inverse"> On going</span></h3>

                                        {% elseif Opportunity.status == 3 %}
                                            <h3><span class="label label-info">Completed</span></h3>
                                        {% endif %}
                                        <br>
                                    </td>
                                    <td width='10%'></td>
                                </tr>

                            </table>


                            <h6>Training</h6>

                            <p align="justify">{{ Opportunity.training }}</p>
                            <br>

                            <h6>Expenses</h6>

                            <p align="justify">{{ Opportunity.expenses }}</p>
                            <br>

                            <h6>Volunteer Hours</h6>
                            {% for child in Opportunity.time %}
                                <label>
                                    {{ child}}
                                </label>
                            {% endfor %}
                            <br><br>


                        </li>
                    {% endfor %}


                </ul>
            </div>
            {% else %}
                <div class="box-header well" data-original-title>

                    <h2><i class="icon-list-alt"></i> Current Task</h2>

                </div>
                <div class="box-content">
                    <br>
                    <ul class="dashboard-list" style="margin-left: 10%">

                        <li>

                                <div class ="pull-right">
                                    {% if current.status == 3 %}
                                        <br><br>
                                        <button url="{{ path('ridwan_site_approve_opportunity', { 'opID': current.id }) }}" id="{{current.id}}" class="btn btn-small  btn-success btn-complete"><i class="icon-book"></i> Feedback</button>

                                    {% endif %}
                                </div>

                            <h6>Title</h6>

                            <h3>{{ current.title }}</h3>
                            <br>

                            <h6>Volunteer Role</h6>

                            <p align="justify">{{ current.role }}</p>
                            <br>

                            <h6>Description</h6>

                            <p align="justify">{{ current.description }}</p>
                            <br>

                            <table width='100%'>
                                <tr>
                                    <td width='40%'>
                                        <h6>Location</h6>

                                        <p align="justify">{{ current.location }}</p>
                                        <br>

                                        <h6>Start Date</h6>

                                        <p align="justify">{{ current.startdate|date('Y-m-d') }}</p>
                                        <br>

                                        <h6>Expected End Date</h6>

                                        <p align="justify">{{ current.enddate| date('Y-m-d') }}</p>
                                        <br>

                                        <h6>Number of Volunteers</h6>

                                        <p align="justify">{{ current.numberofvolunteers }}</p>
                                        <br>
                                    </td>
                                    <td width='10%'></td>
                                    <td width='40%'>
                                        <h6>Age Group</h6>

                                        <p align="justify">{{ current.agegroup }}</p>
                                        <br>

                                        <h6>Difficulty</h6>

                                        <p align="justify">
                                            {% if current.difficulty == 8 %}
                                        <h3><span class="label label-important"> Extreme</span></h3>
                                        {% elseif current.difficulty == 6 %}
                                            <h3><span class="label label-warning"> Hard</span></h3>

                                        {% elseif current.difficulty == 4 %}
                                            <h3><span class="label label-inverse"> Normal</span></h3>

                                        {% elseif current.difficulty == 2 %}
                                            <h3><span class="label label-inverse"> Easy </span></h3>

                                        {% elseif current.difficulty == 0 %}
                                            <h3><span class="label label-info"> Very Easy</span></h3>
                                        {% endif %}


                                        </p>
                                        <br>

                                        <h6>Cause</h6>

                                        <p align="justify">{{ current.cause }}</p>
                                        <br>

                                        <h6>Status</h6>
                                        {% if current.status == -1 %}
                                            <h3><span class="label label-important"> Rejected</span></h3>
                                        {% elseif current.status == 0 %}
                                            <h3><span class="label label-warning"> Pending Approval</span></h3>

                                        {% elseif current.status == 1 %}
                                            <h3><span class="label label-inverse"> Assigning Volunteers</span></h3>

                                        {% elseif current.status == 2 %}
                                            <h3><span class="label label-inverse"> On going</span></h3>

                                        {% elseif current.status == 3 %}
                                            <h3><span class="label label-info">Completed</span></h3>
                                        {% endif %}
                                        <br>
                                    </td>
                                    <td width='10%'></td>
                                </tr>

                            </table>


                            <h6>Training</h6>

                            <p align="justify">{{ current.training }}</p>
                            <br>

                            <h6>Expenses</h6>

                            <p align="justify">{{ current.expenses }}</p>
                            <br>

                            <h6>Volunteer Hours</h6>
                            {% for child in current.time %}
                                <label>
                                    {{ child}}
                                </label>
                            {% endfor %}
                            <br><br>

                        </li>


                    </ul>
                </div>
                {% endif %}
        </div>




        </div>
    </div>

    <div class="modal hide fade" id="complete">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">×</button>
            <h3>Confirmation</h3>
        </div>
        <div class="modal-body">
            <p align="center">You are about to accept this opportunity?
            </p>


        </div>
        <div class="modal-footer">

            <form action="empty" id="continue-form" method="POST">
                <input name="id" id="del-id" type="hidden" value="empty"/>
                <a href="#" class="btn" data-dismiss="modal">Close</a>
                <input type="submit" class="btn btn-primary" value="continue">
            </form>

        </div>
    </div>

    <div class="modal hide fade" id="delete">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">×</button>
            <h3>Confirmation</h3>
        </div>
        <div class="modal-body">
            <p align="center">Are you sure you don't want this opportunity?
            </p>


        </div>
        <div class="modal-footer">

            <form action="empty" id="continue-form" method="POST">
                <input name="id" id="del-id" type="hidden" value="empty"/>
                <a href="#" class="btn" data-dismiss="modal">Close</a>
                <input type="submit" class="btn btn-primary" value="continue">
            </form>

        </div>
    </div>
{% endblock %}